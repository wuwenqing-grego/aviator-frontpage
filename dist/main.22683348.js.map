{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","cache","localStorage","getItem","history","JSON","parse","sites","logo","url","removePrefix","replace","saveToCache","setItem","stringify","render","remove","forEach","item","index","$site","insertBefore","on","open","e","stopPropagation","splice","window","prompt","includes","console","log","push","toUpperCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAAS,GAAGC,CAAC,CAAC,WAAD,CAAnB;AACA,IAAMC,OAAO,GAAGF,SAAS,CAACG,IAAV,CAAe,OAAf,CAAhB;AACA,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,IAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWL,KAAX,CAAhB;AACA,IAAMM,KAAK,GAAGH,OAAO,IAAI,CACrB;AAACI,EAAAA,IAAI,EAAE,GAAP;AAAYC,EAAAA,GAAG,EAAE;AAAjB,CADqB,EAErB;AAACD,EAAAA,IAAI,EAAE,GAAP;AAAYC,EAAAA,GAAG,EAAE;AAAjB,CAFqB,EAGrB;AAACD,EAAAA,IAAI,EAAE,GAAP;AAAYC,EAAAA,GAAG,EAAE;AAAjB,CAHqB,CAAzB;;AAMA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACD,GAAD,EAAS;AAC1B,SAAOA,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EAA4BA,OAA5B,CAAoC,SAApC,EAA+C,EAA/C,EAAmDA,OAAnD,CAA2D,MAA3D,EAAmE,EAAnE,EAAuEA,OAAvE,CAA+E,MAA/E,EAAuF,EAAvF,CAAP;AACH,CAFD;;AAIA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtBV,EAAAA,YAAY,CAACW,OAAb,CAAqB,OAArB,EAA8BR,IAAI,CAACS,SAAL,CAAeP,KAAf,CAA9B;AACH,CAFD;;AAIA,IAAMQ,MAAM,GAAG,SAATA,MAAS,GAAM;AACjBlB,EAAAA,SAAS,CAACG,IAAV,CAAe,eAAf,EAAgCgB,MAAhC;AACAT,EAAAA,KAAK,CAACU,OAAN,CAAc,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC3B,QAAMC,KAAK,GAAGtB,CAAC,yHAGqBoB,IAAI,CAACV,IAH1B,iEAIqBE,YAAY,CAACQ,IAAI,CAACT,GAAN,CAJjC,4UAAD,CAYXY,YAZW,CAYEtB,OAZF,CAAd;AAaAqB,IAAAA,KAAK,CAACE,EAAN,CAAS,OAAT,EAAkB,YAAM;AACpBC,MAAAA,IAAI,CAACL,IAAI,CAACT,GAAN,CAAJ;AACH,KAFD;AAGAW,IAAAA,KAAK,CAACE,EAAN,CAAS,OAAT,EAAkB,SAAlB,EAA6B,UAACE,CAAD,EAAO;AAChCA,MAAAA,CAAC,CAACC,eAAF;AACAlB,MAAAA,KAAK,CAACmB,MAAN,CAAaP,KAAb,EAAoB,CAApB;AACAP,MAAAA,WAAW;AACXG,MAAAA,MAAM;AACT,KALD;AAMH,GAvBD;AAwBH,CA1BD;;AA4BAA,MAAM;AAENjB,CAAC,CAAC,YAAD,CAAD,CAAgBwB,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAC9B,MAAIb,GAAG,GAAGkB,MAAM,CAACC,MAAP,CAAc,aAAd,CAAV;;AACA,MAAI,CAACnB,GAAG,CAACoB,QAAJ,CAAa,MAAb,CAAL,EAA2B;AACvBpB,IAAAA,GAAG,GAAG,aAAaA,GAAnB;AACH;;AACDqB,EAAAA,OAAO,CAACC,GAAR,CAAYtB,GAAZ;AAEAF,EAAAA,KAAK,CAACyB,IAAN,CAAW;AAACxB,IAAAA,IAAI,EAAEE,YAAY,CAACD,GAAD,CAAZ,CAAkB,CAAlB,EAAqBwB,WAArB,EAAP;AAA2CxB,IAAAA,GAAG,EAAEA;AAAhD,GAAX;AACAG,EAAAA,WAAW;AACXG,EAAAA,MAAM;AACT,CAVD","file":"main.22683348.js","sourceRoot":"../src","sourcesContent":["const $siteList = $('.siteList')\nconst $lastLi = $siteList.find('.last')\nconst cache = localStorage.getItem('cache')\nconst history = JSON.parse(cache)\nconst sites = history || [\n    {logo: 'M', url: 'https://developer.mozilla.org'},\n    {logo: 'J', url: 'https://zh.javascript.info'},\n    {logo: 'C', url: 'https://css-tricks.com'},\n]\n\nconst removePrefix = (url) => {\n    return url.replace('https://', '').replace('http://', '').replace('www.', '').replace(/\\/.*/, '')\n}\n\nconst saveToCache = () => {\n    localStorage.setItem('cache', JSON.stringify(sites))\n}\n\nconst render = () => {\n    $siteList.find('li:not(.last)').remove()\n    sites.forEach((item, index) => {\n        const $site = $(`\n                <li>\n                    <div class=\"site\">\n                        <div class=\"logo\">${item.logo}</div>\n                        <div class=\"link\">${removePrefix(item.url)}</div>\n                        <div class=\"delete\">\n                            <svg class=\"icon\" aria-hidden=\"true\">\n                                <use xlink:href=\"#icon-close\"></use>\n                            </svg>\n                        </div>\n                    </div>\n                </li>\n        `).insertBefore($lastLi)\n        $site.on('click', () => {\n            open(item.url)\n        })\n        $site.on('click', '.delete', (e) => {\n            e.stopPropagation()\n            sites.splice(index, 1)\n            saveToCache()\n            render()\n        })\n    })\n}\n\nrender()\n\n$('.addButton').on('click', () => {\n    let url = window.prompt('请输入新标签页的网址：')\n    if (!url.includes('http')) {\n        url = 'https://' + url\n    }\n    console.log(url)\n\n    sites.push({logo: removePrefix(url)[0].toUpperCase(), url: url})\n    saveToCache()\n    render()\n})"]}