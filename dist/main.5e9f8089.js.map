{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","cache","localStorage","getItem","history","JSON","parse","sites","logo","url","removePrefix","replace","render","remove","forEach","item","index","$site","insertBefore","on","open","e","stopPropagation","splice","window","prompt","includes","console","log","push","toUpperCase","sitesStr","stringify","setItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAAS,GAAGC,CAAC,CAAC,WAAD,CAAnB;AACA,IAAMC,OAAO,GAAGF,SAAS,CAACG,IAAV,CAAe,OAAf,CAAhB;AACA,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,IAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWL,KAAX,CAAhB;AACA,IAAMM,KAAK,GAAGH,OAAO,IAAI,CACrB;AAACI,EAAAA,IAAI,EAAE,GAAP;AAAYC,EAAAA,GAAG,EAAE;AAAjB,CADqB,EAErB;AAACD,EAAAA,IAAI,EAAE,GAAP;AAAYC,EAAAA,GAAG,EAAE;AAAjB,CAFqB,EAGrB;AAACD,EAAAA,IAAI,EAAE,GAAP;AAAYC,EAAAA,GAAG,EAAE;AAAjB,CAHqB,CAAzB;;AAMA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACD,GAAD,EAAS;AAC1B,SAAOA,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EAA4BA,OAA5B,CAAoC,SAApC,EAA+C,EAA/C,EAAmDA,OAAnD,CAA2D,MAA3D,EAAmE,EAAnE,EAAuEA,OAAvE,CAA+E,MAA/E,EAAuF,EAAvF,CAAP;AACH,CAFD;;AAIA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACjBf,EAAAA,SAAS,CAACG,IAAV,CAAe,eAAf,EAAgCa,MAAhC;AACAN,EAAAA,KAAK,CAACO,OAAN,CAAc,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC3B,QAAMC,KAAK,GAAGnB,CAAC,yHAGqBiB,IAAI,CAACP,IAH1B,iEAIqBE,YAAY,CAACK,IAAI,CAACN,GAAN,CAJjC,4UAAD,CAYXS,YAZW,CAYEnB,OAZF,CAAd;AAaAkB,IAAAA,KAAK,CAACE,EAAN,CAAS,OAAT,EAAkB,YAAM;AACpBC,MAAAA,IAAI,CAACL,IAAI,CAACN,GAAN,CAAJ;AACH,KAFD;AAGAQ,IAAAA,KAAK,CAACE,EAAN,CAAS,OAAT,EAAkB,SAAlB,EAA6B,UAACE,CAAD,EAAO;AAChCA,MAAAA,CAAC,CAACC,eAAF;AACAf,MAAAA,KAAK,CAACgB,MAAN,CAAaP,KAAb,EAAoB,CAApB;AACAJ,MAAAA,MAAM;AACT,KAJD;AAKH,GAtBD;AAuBH,CAzBD;;AA2BAA,MAAM;AAENd,CAAC,CAAC,YAAD,CAAD,CAAgBqB,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAC9B,MAAIV,GAAG,GAAGe,MAAM,CAACC,MAAP,CAAc,aAAd,CAAV;;AACA,MAAI,CAAChB,GAAG,CAACiB,QAAJ,CAAa,MAAb,CAAL,EAA2B;AACvBjB,IAAAA,GAAG,GAAG,aAAaA,GAAnB;AACH;;AACDkB,EAAAA,OAAO,CAACC,GAAR,CAAYnB,GAAZ;AAEAF,EAAAA,KAAK,CAACsB,IAAN,CAAW;AAACrB,IAAAA,IAAI,EAAEE,YAAY,CAACD,GAAD,CAAZ,CAAkB,CAAlB,EAAqBqB,WAArB,EAAP;AAA2CrB,IAAAA,GAAG,EAAEA;AAAhD,GAAX;AACA,MAAMsB,QAAQ,GAAG1B,IAAI,CAAC2B,SAAL,CAAezB,KAAf,CAAjB;AACAL,EAAAA,YAAY,CAAC+B,OAAb,CAAqB,OAArB,EAA8BF,QAA9B;AACAnB,EAAAA,MAAM;AACT,CAXD","file":"main.5e9f8089.js","sourceRoot":"../src","sourcesContent":["const $siteList = $('.siteList')\nconst $lastLi = $siteList.find('.last')\nconst cache = localStorage.getItem('cache')\nconst history = JSON.parse(cache)\nconst sites = history || [\n    {logo: 'M', url: 'https://developer.mozilla.org'},\n    {logo: 'J', url: 'https://zh.javascript.info'},\n    {logo: 'C', url: 'https://css-tricks.com'},\n]\n\nconst removePrefix = (url) => {\n    return url.replace('https://', '').replace('http://', '').replace('www.', '').replace(/\\/.*/, '')\n}\n\nconst render = () => {\n    $siteList.find('li:not(.last)').remove()\n    sites.forEach((item, index) => {\n        const $site = $(`\n                <li>\n                    <div class=\"site\">\n                        <div class=\"logo\">${item.logo}</div>\n                        <div class=\"link\">${removePrefix(item.url)}</div>\n                        <div class=\"delete\">\n                            <svg class=\"icon\" aria-hidden=\"true\">\n                                <use xlink:href=\"#icon-close\"></use>\n                            </svg>\n                        </div>\n                    </div>\n                </li>\n        `).insertBefore($lastLi)\n        $site.on('click', () => {\n            open(item.url)\n        })\n        $site.on('click', '.delete', (e) => {\n            e.stopPropagation()\n            sites.splice(index, 1)\n            render()\n        })\n    })\n}\n\nrender()\n\n$('.addButton').on('click', () => {\n    let url = window.prompt('请输入新标签页的网址：')\n    if (!url.includes('http')) {\n        url = 'https://' + url\n    }\n    console.log(url)\n\n    sites.push({logo: removePrefix(url)[0].toUpperCase(), url: url})\n    const sitesStr = JSON.stringify(sites)\n    localStorage.setItem('cache', sitesStr)\n    render()\n})"]}