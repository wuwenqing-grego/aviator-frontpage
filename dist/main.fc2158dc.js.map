{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","cache","localStorage","getItem","history","JSON","parse","sites","logo","url","removePrefix","replace","saveToCache","setItem","stringify","render","remove","forEach","item","index","$site","insertBefore","on","open","e","stopPropagation","window","confirm","splice","prompt","alert","includes","console","log","push","toUpperCase"],"mappings":"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","file":"main.fc2158dc.js","sourceRoot":"../src","sourcesContent":["const $siteList = $('.siteList')\nconst $lastLi = $siteList.find('.last')\nconst cache = localStorage.getItem('cache')\nconst history = JSON.parse(cache)\nconst sites = history || [\n    {logo: 'M', url: 'https://developer.mozilla.org'},\n    {logo: 'J', url: 'https://zh.javascript.info'},\n    {logo: 'C', url: 'https://css-tricks.com'},\n    {logo: 'W', url: 'https://wangdoc.com/javascript/index.html'},\n    {logo: 'E', url: 'https://es6.ruanyifeng.com/'},\n    {logo: 'V', url: 'https://cn.vuejs.org/v2/guide/'},\n]\n\nconst removePrefix = (url) => {\n    return url.replace('https://', '').replace('http://', '').replace('www.', '').replace(/\\/.*/, '')\n}\n\nconst saveToCache = () => {\n    localStorage.setItem('cache', JSON.stringify(sites))\n}\n\nconst render = () => {\n    $siteList.find('li:not(.last)').remove()\n    sites.forEach((item, index) => {\n        const $site = $(`\n                <li>\n                    <div class=\"site\">\n                        <div class=\"logo\">${item.logo}</div>\n                        <div class=\"link\">${removePrefix(item.url)}</div>\n                        <div class=\"delete\">\n                            <svg class=\"icon\" aria-hidden=\"true\">\n                                <use xlink:href=\"#icon-close\"></use>\n                            </svg>\n                        </div>\n                    </div>\n                </li>\n        `).insertBefore($lastLi)\n        $site.on('click', () => {\n            open(item.url)\n        })\n        $site.on('click', '.delete', (e) => {\n            e.stopPropagation()\n            if (window.confirm('是否确认删除？')) {\n                sites.splice(index, 1)\n                saveToCache()\n                render()\n            }\n        })\n    })\n}\n\nrender()\n\n$('.addButton').on('click', () => {\n    let url = window.prompt('请输入新标签页的网址：')\n    if (url === '') {\n        window.alert('网址不可为空！')\n    } else if (url) {\n        if (!url.includes('http')) {\n            url = 'https://' + url\n        }\n        console.log(url)\n    \n        sites.push({logo: removePrefix(url)[0].toUpperCase(), url: url})\n        saveToCache()\n        render()\n    }\n})"]}